<!DOCTYPE html>
<html lang="tr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firmus | Solution and Evolution Partner</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700;800;900&display=swap" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bodoni+Moda:opsz,wght@6..96,400;6..96,700&family=Inter:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            cursor: none;
            background-color: #0d0d0d;
            color: #e5e5e5;
            line-height: 1.6;
            overflow-x: hidden;
        }

        h1 {
            font-family: 'Poppins', sans-serif;
            letter-spacing: -0.02em;
            font-weight: 900;
        }
        
        h2 {
            font-family: 'Bodoni Moda', serif;
            letter-spacing: -0.05em;
        }
        
        .bg-gradient-fade {
            background: linear-gradient(to top, #0d0d0d, rgba(13, 13, 13, 0));
        }

        .card-blur {
            backdrop-filter: blur(10px);
            background-color: rgba(31, 41, 55, 0.15);
            border: 1px solid rgba(75, 85, 99, 0.1);
        }

        /* Responsive calendar */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, minmax(0, 1fr));
            gap: 4px;
        }

        .calendar-day {
            aspect-ratio: 1 / 1;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        /* Ivme Efekti için yeni sınıf */
        .calendar-day.is-today-animated {
            transform: scale(1.2) translateZ(50px);
            background-color: #6366f1; /* Tailwind indigo-500 */
            color: white;
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.7);
            border: 2px solid white;
        }
        
        /* Canvas için stil */
        #trail-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        /* Onay modalı için stil */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.75);
            backdrop-filter: blur(5px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }

        .modal-content {
            background-color: #1f2937;
            padding: 2rem;
            border-radius: 1.5rem;
            max-width: 500px;
            width: 90%;
            text-align: center;
            border: 1px solid rgba(75, 85, 99, 0.3);
        }
    </style>
</head>
<body class="bg-gray-950 text-gray-100">
    
    <!-- Mouse Takip Eden Parıltı Efekti için Canvas -->
    <canvas id="trail-canvas"></canvas>

    <!-- Main Container -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

        <!-- Header and Navigation -->
        <header class="py-6 flex justify-between items-center relative z-20">
            <div>
                <div class="text-xl font-bold tracking-widest text-white">Firmus</div>
                <p class="text-sm text-gray-400 mt-1">Solution and Evolution Partner</p>
            </div>
            <nav class="hidden md:flex space-x-8 text-sm">
                <a href="#hizmetler" class="hover:text-white transition-colors duration-200">Hizmetler</a>
                <a href="#hakkimizda" class="hover:text-white transition-colors duration-200">Hakkımızda</a>
                <a href="#takvim" class="hover:text-white transition-colors duration-200">Randevu Al</a>
                <a href="#iletisim" class="hover:text-white transition-colors duration-200">İletişim</a>
            </nav>
        </header>

        <!-- Hero Section -->
        <main class="min-h-screen flex items-center justify-center text-center relative z-10 py-16">
            <div>
                <h1 class="text-4xl sm:text-6xl lg:text-8xl tracking-tight leading-none mb-6 text-white">
                    Dijital Deneyimin<br>Yeni Adresi
                </h1>
                <p class="text-lg sm:text-xl max-w-2xl mx-auto text-gray-400 font-light">
                    Elegant, fonksiyonel ve kullanıcı dostu yazılım çözümleriyle markanızın dijital geleceğini inşa ediyoruz.
                </p>
                <a href="#hizmetler" class="mt-8 inline-block px-8 py-4 rounded-full text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 transition-colors duration-300">
                    Hizmetlerimizi Keşfet
                </a>
            </div>
        </main>

        <!-- Hizmetler Section -->
        <section id="hizmetler" class="py-24 sm:py-32 relative z-10">
            <h2 class="text-4xl lg:text-5xl font-thin text-center mb-16">
                Sunduğumuz Hizmetler
            </h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Hizmet Kartı 1: Web Geliştirme -->
                <div class="card-blur p-6 rounded-3xl transition-all duration-300 hover:bg-gray-800">
                    <div class="text-indigo-400 text-3xl mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-medium text-white mb-2">Web Geliştirme</h3>
                    <p class="text-sm text-gray-400">Özel tasarım ve üstün performanslı web siteleri ve uygulamaları geliştiriyoruz.</p>
                </div>
                <!-- Hizmet Kartı 2: QR Menü Çözümleri -->
                <div class="card-blur p-6 rounded-3xl transition-all duration-300 hover:bg-gray-800">
                    <div class="text-indigo-400 text-3xl mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M4 6h16M4 12h16m-7 6h7" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-medium text-white mb-2">QR Menü Çözümleri</h3>
                    <p class="text-sm text-gray-400">Restoranlar ve kafeler için modern, dijital ve hijyenik QR menü sistemleri sunuyoruz.</p>
                </div>
                <!-- Hizmet Kartı 3: Hizmet Sektörü Çözümleri -->
                <div class="card-blur p-6 rounded-3xl transition-all duration-300 hover:bg-gray-800">
                    <div class="text-indigo-400 text-3xl mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8a4 4 0 100 8m-2-8a2 2 0 114 0 2 2 0 01-4 0z" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-medium text-white mb-2">Hizmet Sektörü Çözümleri</h3>
                    <p class="text-sm text-gray-400">Rezervasyon, randevu ve ödeme sistemleriyle iş süreçlerinizi optimize edin.</p>
                </div>
                <!-- Hizmet Kartı 4: Pazaryeri Kurulumu -->
                <div class="card-blur p-6 rounded-3xl transition-all duration-300 hover:bg-gray-800">
                    <div class="text-indigo-400 text-3xl mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M3 10v11l6-6 6 6V10a2 2 0 00-2-2H5a2 2 0 00-2 2z" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-medium text-white mb-2">Pazaryeri Kurulumu</h3>
                    <p class="text-sm text-gray-400">Kendi çok satıcılı pazaryeri platformunuzu kurarak e-ticaretinizi genişletin.</p>
                </div>
            </div>
        </section>

        <!-- Hakkımızda Section -->
        <section id="hakkimizda" class="py-24 sm:py-32 relative z-10">
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <div class="order-2 lg:order-1">
                    <h2 class="text-4xl lg:text-5xl font-thin mb-6">
                        Yazılıma Yeni Bir<br>Yaklaşım Getiriyoruz
                    </h2>
                    <p class="text-lg text-gray-300 mb-6">
                        Her projemiz, kullanıcı deneyimini merkeze alan, estetik ve işlevselliği birleştiren bir sanat eseridir. Müşterilerimizle yakın iş birliği içinde çalışarak, onların vizyonlarını en yenilikçi teknolojilerle gerçeğe dönüştürüyoruz.
                    </p>
                    <p class="text-lg text-gray-300">
                        Amacımız, elegant, fütüristik ve samimi bir yaklaşımla, iş süreçlerinizi daha verimli, dijital varlığınızı ise daha etkileyici hale getirmektir.
                    </p>
                </div>
                <div class="order-1 lg:order-2">
                    <div class="card-blur p-6 rounded-3xl">
                        <img src="https://placehold.co/600x400/1f2937/9ca3af?text=Minimalist+Design" alt="Minimalist Tasarım" class="rounded-xl object-cover w-full h-auto">
                    </div>
                </div>
            </div>
        </section>

        <!-- Takvim/Randevu Section -->
        <section id="takvim" class="py-24 sm:py-32 relative z-10">
            <div class="max-w-3xl mx-auto text-center mb-16">
                <h2 class="text-4xl lg:text-5xl font-thin mb-4">
                    Projeniz İçin Bir Görüşme Ayarlayın
                </h2>
                <p class="text-lg text-gray-400">
                    Sizin için en uygun zamanı seçin ve ekibimizle bir ön görüşme ayarlayın.
                </p>
            </div>
            <div class="max-w-4xl mx-auto card-blur p-8 rounded-3xl">
                <div class="flex flex-col lg:flex-row gap-8">
                    <!-- Sol Bölüm: Takvim -->
                    <div class="flex-1">
                        <div class="flex justify-between items-center mb-4">
                            <button class="text-gray-400 hover:text-white transition-colors duration-200">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
                            </button>
                            <span id="month-year" class="text-lg font-semibold"></span>
                            <button class="text-gray-400 hover:text-white transition-colors duration-200">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                            </button>
                        </div>
                        <div class="calendar-grid text-sm text-center font-medium text-gray-400">
                            <span>Pzt</span><span>Sal</span><span>Çar</span><span>Per</span><span>Cum</span><span>Cmt</span><span>Paz</span>
                        </div>
                        <div id="calendar-days" class="calendar-grid mt-2 text-sm text-white">
                            <!-- Günler JavaScript ile dinamik olarak eklenecek -->
                        </div>
                    </div>
                    <!-- Sağ Bölüm: Randevu Detayları -->
                    <div class="flex-1 flex flex-col items-center p-6 bg-gray-900 rounded-3xl">
                        <h4 class="text-xl font-medium mb-4">Görüşme Zamanı</h4>
                        <div id="time-slots" class="flex flex-wrap gap-2 text-center">
                            <!-- Saat slotları dinamik olarak eklenecek -->
                        </div>
                        <p class="mt-6 text-gray-500 text-sm" id="slot-info">
                            Randevu için gün ve saat seçimi yapabilirsiniz.
                        </p>
                        <input type="email" id="user-email" placeholder="E-posta adresiniz" class="mt-4 w-full p-2 bg-gray-800 text-white rounded-md border border-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        <button id="book-appointment-btn" class="mt-4 px-6 py-3 rounded-full text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 transition-colors duration-300 w-full" disabled>
                            Randevu Oluştur
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="py-12 text-center text-gray-500 relative z-10">
            <p>&copy; 2024 Firmus. Tüm hakları saklıdır.</p>
        </footer>
    </div>

    <!-- Onay Modalı -->
    <div id="confirmation-modal" class="modal-overlay">
        <div class="modal-content">
            <h3 id="modal-title" class="text-2xl font-bold mb-4">Randevu Onayı</h3>
            <p id="modal-message" class="text-gray-300 mb-6"></p>
            <button id="close-modal" class="px-6 py-2 rounded-full text-white bg-indigo-600 hover:bg-indigo-700 transition-colors duration-300">
                Tamam
            </button>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-auth.js";
        import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore.js";

        // Firebase ve Firestore Ayarları
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);

        // Firebase ile kimlik doğrulama
        const signIn = async () => {
            if (typeof __initial_auth_token !== 'undefined') {
                await signInWithCustomToken(auth, __initial_auth_token);
            } else {
                await signInAnonymously(auth);
            }
        };

        signIn();

        // Mouse Takip Efekti
        const canvas = document.getElementById('trail-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        let mouseX = 0;
        let mouseY = 0;

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
            for (let i = 0; i < 5; i++) {
                particles.push({
                    x: mouseX,
                    y: mouseY,
                    size: Math.random() * 3 + 1,
                    initialOpacity: 0.25,
                    initialLife: 50,
                    life: 50,
                    speedX: (Math.random() - 0.5) * 1,
                    speedY: (Math.random() - 0.5) * 1
                });
            }
        });

        function animate() {
            requestAnimationFrame(animate);
            ctx.fillStyle = 'rgba(13, 13, 13, 0.4)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            for (let i = 0; i < particles.length; i++) {
                const p = particles[i];
                p.x += p.speedX;
                p.y += p.speedY;
                p.life--;
                p.opacity = p.initialOpacity * (p.life / p.initialLife);
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(0, 255, 255, ${p.opacity})`;
                ctx.fill();
                ctx.closePath();
            }
            particles = particles.filter(p => p.life > 0);
        }
        animate();

        // Takvim ve Randevu Sistemi
        const calendarDaysEl = document.getElementById('calendar-days');
        const monthYearEl = document.getElementById('month-year');
        const timeSlotsEl = document.getElementById('time-slots');
        const slotInfoEl = document.getElementById('slot-info');
        const userEmailInput = document.getElementById('user-email');
        const bookButton = document.getElementById('book-appointment-btn');
        const confirmationModal = document.getElementById('confirmation-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalMessage = document.getElementById('modal-message');
        const closeModalButton = document.getElementById('close-modal');

        const today = new Date();
        const currentYear = today.getFullYear();
        const currentMonth = today.getMonth();
        const currentDay = today.getDate();

        let selectedDate = null;
        let selectedTime = null;
        const recipientEmail = "ataberksarsillmaz@gmail.com";
        const monthNames = ["Ocak", "Şubat", "Mart", "Nisan", "Mayıs", "Haziran", "Temmuz", "Ağustos", "Eylül", "Ekim", "Kasım", "Aralık"];

        monthYearEl.textContent = `${monthNames[currentMonth]} ${currentYear}`;
        const firstDayOfMonth = new Date(currentYear, currentMonth, 1).getDay();
        const numDaysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
        const lastDayOfLastMonth = new Date(currentYear, currentMonth, 0).getDate();
        
        let daysHtml = '';
        const startDay = firstDayOfMonth === 0 ? 6 : firstDayOfMonth - 1;
        for (let i = 0; i < startDay; i++) {
            daysHtml += `<div class="calendar-day text-gray-600">${lastDayOfLastMonth - startDay + i + 1}</div>`;
        }
        for (let i = 1; i <= numDaysInMonth; i++) {
            let dayClasses = 'calendar-day rounded-xl transition-colors duration-200';
            if (i < currentDay) {
                dayClasses += ' bg-gray-700 text-gray-400 cursor-not-allowed';
            } else {
                dayClasses += ' selectable-day hover:bg-gray-800 cursor-pointer';
            }
            if (i === currentDay) {
                dayClasses += ' is-today today-selectable';
            }
            daysHtml += `<div class="${dayClasses}" data-day="${i}">${i}</div>`;
        }
        const totalDays = startDay + numDaysInMonth;
        const remainingDays = 42 - totalDays;
        if (remainingDays > 0 && totalDays > 35) {
            for (let i = 1; i <= remainingDays; i++) {
                daysHtml += `<div class="calendar-day text-gray-600">${i}</div>`;
            }
        }
        calendarDaysEl.innerHTML = daysHtml;
        
        window.addEventListener('load', () => {
            const todayElement = document.querySelector('.calendar-day.is-today');
            if (todayElement) {
                setTimeout(() => {
                    todayElement.classList.add('is-today-animated');
                }, 500);
            }
        });

        function generateTimeSlots() {
            timeSlotsEl.innerHTML = '';
            for (let hour = 10; hour < 18; hour++) {
                if (hour === 12 || hour === 13) continue; // 12-13 arasını atla
                for (let minute = 0; minute < 60; minute += 30) {
                    const time = `${String(hour).padStart(2, '0')}:${String(minute).padStart(2, '0')}`;
                    const slotDiv = document.createElement('span');
                    slotDiv.className = 'px-4 py-2 rounded-full border border-gray-700 text-sm hover:bg-indigo-600 transition-colors duration-200 cursor-pointer time-slot';
                    slotDiv.textContent = time;
                    slotDiv.dataset.time = time;
                    timeSlotsEl.appendChild(slotDiv);
                }
            }
        }

        document.querySelectorAll('.selectable-day').forEach(dayEl => {
            dayEl.addEventListener('click', () => {
                document.querySelectorAll('.selectable-day').forEach(el => el.classList.remove('bg-indigo-600'));
                dayEl.classList.add('bg-indigo-600');
                const selectedDay = dayEl.dataset.day;
                selectedDate = new Date(currentYear, currentMonth, parseInt(selectedDay, 10));
                slotInfoEl.textContent = `${selectedDay} ${monthNames[currentMonth]} ${currentYear} için uygun saatleri seçin.`;
                generateTimeSlots();
            });
        });

        timeSlotsEl.addEventListener('click', (e) => {
            if (e.target.classList.contains('time-slot')) {
                document.querySelectorAll('.time-slot').forEach(el => el.classList.remove('bg-indigo-600'));
                e.target.classList.add('bg-indigo-600');
                selectedTime = e.target.dataset.time;
                if (selectedDate && selectedTime) {
                    bookButton.disabled = false;
                }
            }
        });

        bookButton.addEventListener('click', async () => {
            const userEmail = userEmailInput.value;
            if (!userEmail || !selectedDate || !selectedTime) {
                modalTitle.textContent = "Hata";
                modalMessage.textContent = "Lütfen bir tarih, saat ve e-posta adresi girin.";
                confirmationModal.style.display = 'flex';
                return;
            }

            modalTitle.textContent = "Randevu Oluşturuluyor...";
            modalMessage.textContent = "Lütfen bekleyin, randevunuz kaydediliyor.";
            confirmationModal.style.display = 'flex';

            try {
                // Randevu verisini Firestore'a kaydet
                const appointmentsCollection = collection(db, `artifacts/${appId}/public/data/appointments`);
                await addDoc(appointmentsCollection, {
                    date: selectedDate.toISOString(),
                    time: selectedTime,
                    email: userEmail,
                    bookedAt: new Date().toISOString()
                });

                modalTitle.textContent = "Başarılı!";
                modalMessage.innerHTML = `
                    Randevunuz başarıyla oluşturuldu!
                    <br><br>
                    <strong>Tarih:</strong> ${selectedDate.toLocaleDateString('tr-TR')}
                    <br>
                    <strong>Saat:</strong> ${selectedTime}
                    <br>
                    <strong>E-posta:</strong> ${userEmail}
                    <br><br>
                    Bu randevu bilgileri veritabanına kaydedilmiştir. Gerçek bir takvim toplantısı için arka uç servisi gereklidir.
                `;

                // Formu sıfırla
                selectedDate = null;
                selectedTime = null;
                bookButton.disabled = true;
                userEmailInput.value = '';
                document.querySelectorAll('.selectable-day').forEach(el => el.classList.remove('bg-indigo-600'));
                timeSlotsEl.innerHTML = '';
            } catch (e) {
                console.error("Randevu oluşturulurken bir hata oluştu: ", e);
                modalTitle.textContent = "Hata";
                modalMessage.textContent = "Randevunuz oluşturulamadı. Lütfen tekrar deneyin.";
            }
        });

        closeModalButton.addEventListener('click', () => {
            confirmationModal.style.display = 'none';
        });

        // Başlangıçta saatleri oluştur
        generateTimeSlots();
    </script>
</body>
</html>
